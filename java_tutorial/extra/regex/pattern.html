<!DOCTYPE HTML PUBLIC "-//W3C//DTD HTML 3.2//EN">
<html>
<head>
<title>Methods of the Pattern Class</title>
<script language="JavaScript">
<!-- hide
function openWin(term) {
  url="../../information/glossary.html#" + term;
  myWin= window.open(url, "Glossary",
              "width=400,height=150,scrollbars=yes,status=no,toolbar=no,menubar=no");
  myWin.focus();
}
//-->
</script>
</head>
<body BGCOLOR="#ffffff" LINK="#000099">
<B><FONT SIZE="-1">The Java</font><sup><font size="-2">TM</font></sup> <font size="-1">Tutorial</FONT></B>
<br>
<table width="550" summary="layout">
<tr>
<td align="left" valign="center">
<a href="bounds.html" target="_top"><img src="../../images/PreviousArrow.gif" width="26" height="26" align="center" border="0" alt="Previous Page"></a>
<a href="../TOC.html#regex" target="_top"><img src="../../images/TOCIcon.gif" width="26" height="26" align="center" border="0" alt="Lesson Contents"></a>
<a href="matcher.html" target="_top"><img src="../../images/NextArrow.gif" width="26" height="26" align="center" border="0" alt="Next Page"></a></td>

<td align="center" valign="center">
<font size="-1">
<a href="../../index.html" target="_top">Start of Tutorial</a>
&gt;
<a href="../index.html" target="_top">Start of Trail</a>
&gt;
<a href="index.html" target="_top">Start of Lesson</a>
</font>
</td>

<td align="right" valign="center">
<font size="-1">
<a href="../../search.html" target="_top">Search</a>
<br><a href="../../forms/sendusmail.html">Feedback Form</a>
</font>
</td>

</tr>
</table>
<img src="../../images/blueline.gif" width="550" height="8" ALIGN="BOTTOM" NATURALSIZEFLAG="3" ALT="">
<br>

<font size="-1">
<b>Trail</b>: Bonus
<br>
<b>Lesson</b>: Regular Expressions
</font>

<h2>
Methods of the Pattern Class
</h2>
<blockquote>
<!--Methods of the Pattern Class-->
 
Until now, we've only used the test harness to create 
<code>Pattern</code> objects in their most basic form.

This section explores advanced techniques such as creating patterns with flags 
and using embedded flag expressions. It also explores some remaining methods we haven't discussed yet. 

<H3>Creating a Pattern with Flags</H3>
The <code>Pattern</code> class defines an alternate 
<code>compile</code> method that accepts a set of flags
affecting the way the pattern is matched.
The flags parameter is a bit mask that may include any of the following public static fields: 
<UL>
<LI>
<a target="_blank" href="http://java.sun.com/j2se/1.4.2/docs/api/java/util/regex/Pattern.html#CANON_EQ"><font color="#8800bb"><code>Pattern.CANON_EQ</code></font></a><a target="_blank" href="http://java.sun.com/j2se/1.4.2/docs/api/java/util/regex/Pattern.html#CANON_EQ"><img src="../../images/apiIcon.gif" width=11 height=11 border=0 align="ABSMIDDLE" alt=" (in the API reference documentation)"></a><LI>

<a target="_blank" href="http://java.sun.com/j2se/1.4.2/docs/api/java/util/regex/Pattern.html#CASE_INSENSITIVE"><font color="#8800bb"><code>Pattern.CASE_INSENSITIVE</code></font></a><a target="_blank" href="http://java.sun.com/j2se/1.4.2/docs/api/java/util/regex/Pattern.html#CASE_INSENSITIVE"><img src="../../images/apiIcon.gif" width=11 height=11 border=0 align="ABSMIDDLE" alt=" (in the API reference documentation)"></a><LI>
<a target="_blank" href="http://java.sun.com/j2se/1.4.2/docs/api/java/util/regex/Pattern.html#COMMENTS"><font color="#8800bb"><code>Pattern.COMMENTS</code></font></a><a target="_blank" href="http://java.sun.com/j2se/1.4.2/docs/api/java/util/regex/Pattern.html#COMMENTS"><img src="../../images/apiIcon.gif" width=11 height=11 border=0 align="ABSMIDDLE" alt=" (in the API reference documentation)"></a><LI>
<a target="_blank" href="http://java.sun.com/j2se/1.4.2/docs/api/java/util/regex/Pattern.html#DOTALL"><font color="#8800bb"><code>Pattern.DOTALL</code></font></a><a target="_blank" href="http://java.sun.com/j2se/1.4.2/docs/api/java/util/regex/Pattern.html#DOTALL"><img src="../../images/apiIcon.gif" width=11 height=11 border=0 align="ABSMIDDLE" alt=" (in the API reference documentation)"></a><LI>
<a target="_blank" href="http://java.sun.com/j2se/1.4.2/docs/api/java/util/regex/Pattern.html#MULTILINE"><font color="#8800bb"><code>Pattern.MULTILINE</code></font></a><a target="_blank" href="http://java.sun.com/j2se/1.4.2/docs/api/java/util/regex/Pattern.html#MULTILINE"><img src="../../images/apiIcon.gif" width=11 height=11 border=0 align="ABSMIDDLE" alt=" (in the API reference documentation)"></a><LI>
<a target="_blank" href="http://java.sun.com/j2se/1.4.2/docs/api/java/util/regex/Pattern.html#UNICODE_CASE"><font color="#8800bb"><code>Pattern.UNICODE_CASE</code></font></a><a target="_blank" href="http://java.sun.com/j2se/1.4.2/docs/api/java/util/regex/Pattern.html#UNICODE_CASE"><img src="../../images/apiIcon.gif" width=11 height=11 border=0 align="ABSMIDDLE" alt=" (in the API reference documentation)"></a><LI>
<a target="_blank" href="http://java.sun.com/j2se/1.4.2/docs/api/java/util/regex/Pattern.html#UNIX_LINES"><font color="#8800bb"><code>Pattern.UNIX_LINES</code></font></a><a target="_blank" href="http://java.sun.com/j2se/1.4.2/docs/api/java/util/regex/Pattern.html#UNIX_LINES"><img src="../../images/apiIcon.gif" width=11 height=11 border=0 align="ABSMIDDLE" alt=" (in the API reference documentation)"></a></UL>
In the following steps we will modify the test harness, 
<a target="_blank" href="example-1dot4/RegexTestHarness.java"><font color="#bb000f"><code>RegexTestHarness</code></font></a><a target="_blank" href="example-1dot4/RegexTestHarness.java"><img src="../../images/sourceIcon.gif" width=11 height=11 border=0 align="ABSMIDDLE" alt=" (in a .java source file)"></a> to create a pattern with case-insensitive matching.

<P>
First, modify the code to call the alternate version of <code>compile</code>: 
<blockquote><pre>
pattern = Pattern.compile(REGEX,Pattern.CASE_INSENSITIVE);
</pre></blockquote>

Then edit your input file, <CODE>regex.txt</CODE>, to contain the following:
<blockquote><pre> 
dog
DoGDOg
</pre></blockquote> 

Finally, compile and run the test harness to get the following results:
<blockquote><pre> 
Current REGEX is: dog
Current INPUT is: DoGDOg
I found the text "DoG" starting at index 0 and ending at index 3.
I found the text "DOg" starting at index 3 and ending at index 6.
</pre></blockquote> 

As you can see, the string literal "dog" matches both occurances, regardless of case. To compile a pattern with multiple flags, separate the 
flags to be included using the bitwise OR operator (<code>|</code>):

<blockquote><pre> 
pattern = Pattern.compile("[az]$", Pattern.MULTILINE <B>|</B> Pattern.UNIX_LINES);
</pre></blockquote> 

Note that for clarity you could also specify an <code>int</code> variable:

<blockquote><pre> 
final int flags = Pattern.CASE_INSENSITIVE | Pattern.UNICODE_CASE;
Pattern pattern = Pattern.compile("aa", flags);
</pre></blockquote> 

<A NAME=embedded></A>
<H3>Embedded Flag Expressions</H3>
It's also possible to enable various flags using 
<I>embedded flag expressions</I>. Embedded flag expressions are    
   an alternative to the two-argument 
version of <code>compile</code>, and are specified in the regular expression itself. 
The following example uses the original test harness, 
<a target="_blank" href="example-1dot4/RegexTestHarness.java"><font color="#bb000f"><code>RegexTestHarness.java</code></font></a><a target="_blank" href="example-1dot4/RegexTestHarness.java"><img src="../../images/sourceIcon.gif" width=11 height=11 border=0 align="ABSMIDDLE" alt=" (in a .java source file)"></a> with the embedded flag expression <CODE>(?i)</CODE> to 
enable case-insensitive matching.

<blockquote><pre> 
Current REGEX is: (?i)foo
Current INPUT is: FOOfooFoOfoO
I found the text "FOO" starting at index 0 and ending at index 3.
I found the text "foo" starting at index 3 and ending at index 6.
I found the text "FoO" starting at index 6 and ending at index 9.
I found the text "foO" starting at index 9 and ending at index 12.
</pre></blockquote> 

Once again, all matches succeed regardless of case. 

<P>
The embedded flag expressions 
that correspond to <code>Pattern</code>'s 
publicly-accessible fields are presented in the following table:

<blockquote>
<TABLE WIDTH="568" BORDER="1" CELLSPACING="2" CELLPADDING="0">
  <TR>
    <TD WIDTH="50%">
    &nbsp;<B>Constant</B></TD>
    <TD WIDTH="50%">
    &nbsp;<B>Equivalent Embedded Flag Expression</B></TD>
  </TR>
  <TR>
    <TD WIDTH="50%">
    &nbsp;<CODE>Pattern.CANON_EQ</CODE></TD>
    <TD WIDTH="50%">
    &nbsp; None</TD>
  </TR>
  <TR>
    <TD WIDTH="50%">
    &nbsp;<CODE>Pattern.CASE_INSENSITIVE</CODE></TD>
    <TD WIDTH="50%">
    &nbsp;<CODE>(?i)</CODE></TD>
  </TR>
  <TR>
    <TD WIDTH="50%">
    &nbsp;<CODE>Pattern.COMMENTS</CODE></TD>
    <TD WIDTH="50%">
    &nbsp;<CODE>(?x)</CODE></TD>
  </TR>
  <TR>
    <TD WIDTH="50%">
    &nbsp;<CODE>Pattern.MULTILINE </CODE></TD>
    <TD WIDTH="50%">
    &nbsp;<CODE>(?m)</CODE></TD>
  </TR>
  <TR>
    <TD WIDTH="50%">
    &nbsp;<CODE>Pattern.DOATALL</CODE></TD>
    <TD WIDTH="50%">
    &nbsp;<CODE>(?s)</CODE></TD>
  </TR>
  <TR>
    <TD WIDTH="50%">
    &nbsp;<CODE>Pattern.UNICODE_CASE</CODE></TD>
    <TD WIDTH="50%">
    &nbsp;<CODE>(?u)</CODE></TD>
  </TR>
  <TR>
    <TD WIDTH="50%">
    &nbsp;<CODE>Pattern.UNIX_LINES</CODE></TD>
    <TD WIDTH="50%">
    &nbsp;<CODE>(?d)</CODE></TD>
  </TR>
</TABLE>
</blockquote>

<H3>Using the <code>matches(String,CharSequence)</code> Method</H3>

The <code>Pattern</code> class defines a convenient 
<a target="_blank" href="http://java.sun.com/j2se/1.4.2/docs/api/java/util/regex/ Pattern.html#matches(java.lang.String, java.lang.CharSequence)"><font color="#8800bb"><code>matches</code></font></a><a target="_blank" href="http://java.sun.com/j2se/1.4.2/docs/api/java/util/regex/ Pattern.html#matches(java.lang.String, java.lang.CharSequence)"><img src="../../images/apiIcon.gif" width=11 height=11 border=0 align="ABSMIDDLE" alt=" (in the API reference documentation)"></a> method that allows 
you to quickly check if a pattern is present in a given input string.
As with all public static methods, you should call <code>matches</code> 
with its  class name, such as 
<CODE>Pattern.matches("\\d","1");</CODE>
In this example, the method returns true, because the digit "1" matches the regular expression <CODE>\d</CODE>.

<H3>Using the <code>split(String)</code> method</H3>
The 
<a target="_blank" href="http://java.sun.com/j2se/1.4.2/docs/api/java/util/regex/Pattern.html#split(java.lang.CharSequence)"><font color="#8800bb"><code>split</code></font></a><a target="_blank" href="http://java.sun.com/j2se/1.4.2/docs/api/java/util/regex/Pattern.html#split(java.lang.CharSequence)"><img src="../../images/apiIcon.gif" width=11 height=11 border=0 align="ABSMIDDLE" alt=" (in the API reference documentation)"></a> method is a great tool for gathering the text that lies on 
either side of the pattern that's been matched. As shown below in
the 
<a target="_blank" href="example-1dot4/SplitTest.java"><font color="#bb000f"><code>SplitTest</code></font></a><a target="_blank" href="example-1dot4/SplitTest.java"><img src="../../images/sourceIcon.gif" width=11 height=11 border=0 align="ABSMIDDLE" alt=" (in a .java source file)"></a> code, the 
<code>split</code> method could extract the words 
"<code>one two three four five</code>" from the 
string "<code>one:two:three:four:five</code>":

<blockquote><pre> 
import java.util.regex.*;

public final class SplitTest {

    private static String REGEX = ":";
    private static String INPUT = "one:two:three:four:five";
    
    public static void main(String[] argv) {
        Pattern p = Pattern.compile(REGEX);
        String[] items = p.split(INPUT);
        for(int i=0;i&lt;items.length;i++) {
            System.out.println(items[i]);
        }
    }
}

OUTPUT:

one
two
three
four
five
</pre></blockquote> 



For simplicity, we've matched a string literal, the colon (<code>:</code>)  instead of a complex regular expression. 
Since we're still using <code>Pattern</code> and <code>Matcher</code> 
objects, you can use split to get the text that falls
on either side of any regular expression. Here's the same example, 
<a target="_blank" href="example-1dot4/SplitTest2.java"><font color="#bb000f"><code>SplitTest2</code></font></a><a target="_blank" href="example-1dot4/SplitTest2.java"><img src="../../images/sourceIcon.gif" width=11 height=11 border=0 align="ABSMIDDLE" alt=" (in a .java source file)"></a>, modified to  
split on digits instead:

<blockquote><pre> 
import java.util.regex.*;

public final class SplitTest2 {

    private static String REGEX = "\\d";
    private static String INPUT = "one9two4three7four1five";

    public static void main(String[] argv) {
        Pattern p = Pattern.compile(REGEX);
        String[] items = p.split(INPUT);
        for(int i=0;i&lt;items.length;i++) {
            System.out.println(items[i]);
        }
    }
}

OUTPUT:

one
two
three
four
five
</pre></blockquote> 

<H2>Pattern Method Equivalents in <code>java.lang.String</code></H2>
Regular expression support has also been introduced to <code>java.lang.String</code> through 
 several methods that mimic the behavior of <code>java.util.regex.Pattern</code>.
For convenience, key excerpts from their API are presented below. 


<UL>
<LI>
<a target="_blank" href="http://java.sun.com/j2se/1.4.2/docs/api/java/lang/String.html#matches(java.lang.String)"><font color="#8800bb"><code>public boolean matches(String regex)</code></font></a><a target="_blank" href="http://java.sun.com/j2se/1.4.2/docs/api/java/lang/String.html#matches(java.lang.String)"><img src="../../images/apiIcon.gif" width=11 height=11 border=0 align="ABSMIDDLE" alt=" (in the API reference documentation)"></a>: Tells whether or not this string matches the given regular expression. 
An invocation of this method of the form <code><I>str</I>.matches(<I>regex</I>)</code> yields exactly the same result as the expression <code>Pattern.matches(<I>regex</I>, <I>str</I>)</code>.
<P>


<LI>
<a target="_blank" href="http://java.sun.com/j2se/1.4.2/docs/api/java/lang/String.html#split(java.lang.String, int)"><font color="#8800bb"><code>public String[] split(String regex, int limit)</code></font></a><a target="_blank" href="http://java.sun.com/j2se/1.4.2/docs/api/java/lang/String.html#split(java.lang.String, int)"><img src="../../images/apiIcon.gif" width=11 height=11 border=0 align="ABSMIDDLE" alt=" (in the API reference documentation)"></a>: Splits this string around matches of the given regular expression. 
An invocation of this method of the form <code><I>str</I>.split(<I>regex</I>, <I>n</I>)</code> yields the same result as the expression 
         <code>Pattern.compile(<I>regex</I>).split(<I>str</I>, <I>n</I>)</code>  
<P>
<LI>
<a target="_blank" href="http://java.sun.com/j2se/1.4.2/docs/api/java/lang/String.html#split(java.lang.String)"><font color="#8800bb"><code>public String[] split(String regex)</code></font></a><a target="_blank" href="http://java.sun.com/j2se/1.4.2/docs/api/java/lang/String.html#split(java.lang.String)"><img src="../../images/apiIcon.gif" width=11 height=11 border=0 align="ABSMIDDLE" alt=" (in the API reference documentation)"></a>: 
Splits this string around matches of the given regular expression. 
     This method works the same as if you invoked the two-argument split method with the given expression and a limit argument of
     zero. Trailing empty strings are not included in the resulting array. 
</UL> 
</P>

</blockquote>

<img src="../../images/blueline.gif" width="550" height="8" ALIGN="BOTTOM" NATURALSIZEFLAG="3" ALT="">
<br>
<table width="550" summary="layout">
<tr>
<td align="left" valign="center">
<a href="bounds.html" target="_top"><img src="../../images/PreviousArrow.gif" width="26" height="26" align="center" border="0" alt="Previous Page"></a>
<a href="../TOC.html#regex" target="_top"><img src="../../images/TOCIcon.gif" width="26" height="26" align="center" border="0" alt="Lesson Contents"></a>
<a href="matcher.html" target="_top"><img src="../../images/NextArrow.gif" width="26" height="26" align="center" border="0" alt="Next Page"></a></td>

<td align="center" valign="center">
<font size="-1">
<a href="../../index.html" target="_top">Start of Tutorial</a>
&gt;
<a href="../index.html" target="_top">Start of Trail</a>
&gt;
<a href="index.html" target="_top">Start of Lesson</a>
</font>
</td>

<td align="right" valign="center">
<font size="-1">
<a href="../../search.html" target="_top">Search</a>
<br><a href="../../forms/sendusmail.html">Feedback Form</a>
</font>
</td>

</tr>
</table>
<p>
<font size="-1">
<a href="../../information/copyright.html">Copyright</a>
1995-2004 Sun Microsystems, Inc.  All rights reserved.
</font>
</p>
</body>
</html>
