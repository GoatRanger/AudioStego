





<!DOCTYPE HTML PUBLIC "-//W3C//DTD HTML 3.2//EN">
<html>
<head>
<title>How to Use Editor Panes and Text Panes</title>
<script language="JavaScript">
<!-- hide
function openWin(term) {
  url="../../information/glossary.html#" + term;
  myWin= window.open(url, "Glossary",
              "width=400,height=150,scrollbars=yes,status=no,toolbar=no,menubar=no");
  myWin.focus();
}
//-->
</script>
</head>
<body BGCOLOR="#ffffff" LINK="#000099">
<B><FONT SIZE="-1">The Java</font><sup><font size="-2">TM</font></sup> <font size="-1">Tutorial</FONT></B>
<br>
<table width="550" summary="layout">
<tr>
<td align="left" valign="center">
<a href="dialog.html" target="_top"><img src="../../images/PreviousArrow.gif" width="26" height="26" align="center" border="0" alt="Previous Page"></a>
<a href="../TOC.html#components" target="_top"><img src="../../images/TOCIcon.gif" width="26" height="26" align="center" border="0" alt="Lesson Contents"></a>
<a href="filechooser.html" target="_top"><img src="../../images/NextArrow.gif" width="26" height="26" align="center" border="0" alt="Next Page"></a></td>

<td align="center" valign="center">
<font size="-1">
<a href="../../index.html" target="_top">Start of Tutorial</a>
&gt;
<a href="../index.html" target="_top">Start of Trail</a>
&gt;
<a href="index.html" target="_top">Start of Lesson</a>
</font>
</td>

<td align="right" valign="center">
<font size="-1">
<a href="../../search.html" target="_top">Search</a>
<br><a href="../../forms/sendusmail.html">Feedback Form</a>
</font>
</td>

</tr>
</table>
<img src="../../images/blueline.gif" width="550" height="8" ALIGN="BOTTOM" NATURALSIZEFLAG="3" ALT="">
<br>

<font size="-1">
<b>Trail</b>: Creating a GUI with JFC/Swing
<br>
<b>Lesson</b>: Using Swing Components
</font>

<h2>
How to Use Editor Panes and Text Panes
</h2>
<blockquote>
Two Swing classes support styled text:
<a target="_blank" href="http://java.sun.com/j2se/1.4.2/docs/api/javax/swing/JEditorPane.html"><font color="#8800bb"><code>JEditorPane</code></font></a><a target="_blank" href="http://java.sun.com/j2se/1.4.2/docs/api/javax/swing/JEditorPane.html"><img src="../../images/apiIcon.gif" width=11 height=11 border=0 align="ABSMIDDLE" alt=" (in the API reference documentation)"></a> and its subclass
<a target="_blank" href="http://java.sun.com/j2se/1.4.2/docs/api/javax/swing/JTextPane.html"><font color="#8800bb"><code>JTextPane</code></font></a><a target="_blank" href="http://java.sun.com/j2se/1.4.2/docs/api/javax/swing/JTextPane.html"><img src="../../images/apiIcon.gif" width=11 height=11 border=0 align="ABSMIDDLE" alt=" (in the API reference documentation)"></a>.
<code>JEditorPane</code> is the foundation
for Swing's styled text components and
provides the mechanism through which
you can add support for custom text formats.
If you want unstyled text,
consider using a
<a href="textarea.html">text area</a> instead.

<p>
You can see an editor pane and text pane in use by 
<a href="http://java.sun.com/docs/books/tutorialJWS/uiswing/components/example-1dot4/TextSamplerDemo.jnlp">running TextSamplerDemo</a>
using
<a target="_top" href="../../information/javawebstart.html">Java<sup><font size=-2>TM</font></sup> Web Start</a><a target="_top" href="../../information/javawebstart.html"><img src="../../images/tutorialIcon.gif" width=11 height=11 border=0 align="ABSMIDDLE" alt=" (in the Creating a GUI with JFC/Swing trail)"></a>.
Here is a picture of TextSamplerDemo:

<p><center><IMG SRC="../../figures/uiswing/components/TextSamplerDemo.gif" WIDTH="559" HEIGHT="383" ALIGN="BOTTOM" NATURALSIZEFLAG="3" ALT="An application that provides a sample of each Swing text component"></center></p>[PENDING: This figure will be updated.]

<p>
TextSamplerDemo hardly begins to exercise the 
capabilities of editor panes and text panes.
However, the editor pane at its top right does illustrate a very handy,
easy-to-use feature:
displaying uneditable help information
loaded from a URL.
The text pane at the lower right demonstrates that you can 
easily embed images and even components directly
into text panes.

<blockquote><hr><strong>Note:</strong>&nbsp;If you need a full-fledged help system,
take a look at the
<a target="_blank" href="http://java.sun.com/products/javahelp"><font color="#009bbb">JavaHelp<sup><font size=-2>TM</font></sup> system</font></a><a target="_blank" href="http://java.sun.com/products/javahelp"><img src="../../images/otherIcon.gif" width=11 height=11 border=0 align="ABSMIDDLE" alt=" (outside of the tutorial)"></a>.
<hr></blockquote>

<p>
The Swing text API is powerful and immense, 
and we could devote an entire book
just to using editor panes and text panes.
This section introduces their capabilities,
offers hints on which one you might want to use,
and points to other sources of information.

<ul>
<li> <a href="#editorpane">Using an Editor Pane to Display Text from a URL</a>
<li> <a href="#recap">Editor Panes vs. Text Panes</a>
<li> <a href="#textpane">An Example of Using a Text Pane</a>
<li> <a href="#api">The Editor Pane and Text Pane API</a>
<li> <a href="#eg">Examples that Use Editor Panes and Text Panes</a>
</ul>



</blockquote>
<a name="editorpane">
<h3>Using an Editor Pane to Display Text from a URL</h3>
</a>
<blockquote>
One task that you can accomplish
without knowing anything about the Swing text system
is displaying text from a URL.
Here's the code
from 
<a target="_blank" href="example-1dot4/TextSamplerDemo.java"><font color="#bb000f"><code>TextSamplerDemo.java</code></font></a><a target="_blank" href="example-1dot4/TextSamplerDemo.java"><img src="../../images/sourceIcon.gif" width=11 height=11 border=0 align="ABSMIDDLE" alt=" (in a .java source file)"></a> that creates an uneditable editor pane
that displays text formatted with HTML tags:

<blockquote><pre>
JEditorPane editorPane = new JEditorPane();
editorPane.setEditable(false);
java.net.URL helpURL = TextSamplerDemo.class.getResource(
                                "TextSamplerDemoHelp.html");
if (helpURL != null) {
    try {
        editorPane.setPage(helpURL);
    } catch (IOException e) {
        System.err.println("Attempted to read a bad URL: " + helpURL);
    }
} else {
    System.err.println("Couldn't find file: TextSamplerDemoHelp.html");
}

//Put the editor pane in a scroll pane.
JScrollPane editorScrollPane = new JScrollPane(editorPane);
editorScrollPane.setVerticalScrollBarPolicy(
                JScrollPane.VERTICAL_SCROLLBAR_ALWAYS);
editorScrollPane.setPreferredSize(new Dimension(250, 145));
editorScrollPane.setMinimumSize(new Dimension(10, 10));
</pre></blockquote>

The code uses the default constructor to create the
editor pane, then calls <code>setEditable(false)</code>
so the user cannot edit the text.
Next, the code creates the <code>URL</code> object,
and calls the <code>setPage</code> method with it.

<p>
The <code>setPage</code> method opens the resource
pointed to by the URL and
figures out the format of the text
(which in the example is HTML).
If the text format is known,
the editor pane initializes itself
with the text found at the URL.
A standard editor pane can understand
plain text, HTML, and RTF.
	Note that the page might be loaded asynchronously,
	which keeps the GUI responsive
	but means that you shouldn't count on the
	data being completely loaded
	after the call to <code>setPage</code> returns.

</blockquote>
<h3>
<a name="recap">Editor Panes vs. Text Panes</a>
</h3>
<blockquote>
For most uses of editor panes and text panes,
you need to understand the text system,
which is described in
<a href="generaltext.html">Text Component Features</a>.
Several facts about editor panes and text panes
are sprinkled throughout that section.
Here we list the facts again, to collect them in one place
and to provide a bit more detail.
The information here should help you understand the differences
between editor panes and text panes, and when to use which.

<ul>
<li> An editor pane or a text pane
     can easily be loaded with text from a URL
     using the <code>setPage</code> method.
     The <code>JEditorPane</code> class also provides constructors
     that let you initialize an editor pane from a URL.
     <code>JTextPane</code> has no such constructors.
     See
     <a href="#editorpane">
     Using an Editor Pane to Display Text from a URL</a>
     for an example of using this feature
     to load an uneditable editor pane with HTML-formatted text.
<p>
     Be aware that the document and editor kit
     might change when using the <code>setPage</code> method.
     For example,
     if an editor pane contains plain text (the default),
     and you load it with HTML,
     the document will change to an <code>HTMLDocument</code> instance
     and the editor kit will change to an <code>HTMLEditorKit</code> instance.
     If your program uses the <code>setPage</code> method,
     make sure the code adjusts for possible changes
     to the pane's document and editor kit instances
     (re-register document listeners on the new document, and so on).

<p>
<li> Editor panes, by default,
     know how to read, write, and edit plain, HTML, and RTF text.
     Text panes inherit this capability
     but impose certain limitations.
     A text pane insists that its document
     implement the <code>StyledDocument</code> interface.
     <code>HTMLDocument</code> and <code>RTFDocument</code>
     are both <code>StyledDocuments</code>
     so HTML and RTF work as expected within a text pane.
     If you load a text pane with plain text though,
     the text pane's document is not a <code>PlainDocument</code>
     as you might expect,
     but a <code>DefaultStyledDocument</code>.
     
<p>
<li> To support a custom text format,
     implement an editor kit that can read, write, and edit
     text of that format.
     Then call the
     <code>registerEditorKitForContentType</code> method
     to register your kit with the <code>JEditorPane</code> class.
     By registering an editor kit in this way,
     all editor panes and text panes in your program will be able
     to read, write, and edit the new format.
     However, if the new editor kit is not a <code>StyledEditorKit</code>,
     text panes will not support the new format.

<p>
<li> As mentioned previously,
     a text pane requires its document 
     to implement the <code>StyledDocument</code> interface.
     The Swing text package provides
     a default implementation of this interface,
     <code>DefaultStyledDocument</code>,
     which is the document text panes use by default.
     A text pane also requires that its editor kit be an instance of a
     <code>StyledEditorKit</code> (or a subclass).
     Be aware that the <code>read</code> and
     <code>write</code> methods for <code>StyleEditorKit</code>
     write plain text.
<p>

<li> Through its styled document and styled editor kit,
     text panes provide support for named styles and logical styles.
     The <code>JTextPane</code> class itself contains
     many methods for working with styles that
     simply call methods in its document or editor kit.

<p>
<li> Through the API provided in the <code>JTextPane</code> class,
     you can embed images and components in a text pane.
     You can embed images in an editor pane, too,
     but only by including the images in an HTML or RTF file.

</ul>


</blockquote>
<a name="textpane">
<h3>An Example of Using a Text Pane</h3>
</a>
<blockquote>
Here's code from <code>TextSamplerDemo</code>
that creates and initializes a text pane.

<blockquote><pre>
String[] initString =
	{ /* ... <em> fill array with initial text </em> ... */ };

String[] initStyles =
	{ /* ... <em> fill array with names of styles </em> ... */ };

JTextPane textPane = new JTextPane();
StyledDocument doc = textPane.getStyledDocument();
addStylesToDocument(doc);

//Load the text pane with styled text.
try {
    for (int i=0; i < initString.length; i++) {
	doc.insertString(doc.getLength(), initString[i],
			 doc.getStyle(initStyles[i]));
    }
} catch (BadLocationException ble) {
    System.err.println("Couldn't insert initial text into text pane.");
}
</pre></blockquote>

Briefly, this code hard-codes the initial text into an array
and creates and hard-codes several <em>styles</em> &#151;
objects that
represent different paragraph and character formats &#151;
into another array.
Next, the code loops over the arrays,
inserts the text into the text pane,
and specifies the style to use for the inserted text.

<p>
Although this makes for an interesting example
and concisely shows off several features of <code>JTextPane</code>,
"real-world" programs aren't likely to initialize
a text pane this way.
Instead, the program would use a text pane to save out a document,
which would then be used to initialize the text pane.

</blockquote>
<h3>
<a name="api">The Editor Pane and Text Pane API</a>
</h3>
<blockquote>
This section lists a bit of the API
related to text and editor panes.
Many of the most useful methods for 
<a target="_blank" href="http://java.sun.com/j2se/1.4.2/docs/api/javax/swing/JEditorPane.html"><font color="#8800bb">JEditorPane</font></a><a target="_blank" href="http://java.sun.com/j2se/1.4.2/docs/api/javax/swing/JEditorPane.html"><img src="../../images/apiIcon.gif" width=11 height=11 border=0 align="ABSMIDDLE" alt=" (in the API reference documentation)"></a> and its subclass
<a target="_blank" href="http://java.sun.com/j2se/1.4.2/docs/api/javax/swing/JTextPane.html"><font color="#8800bb">JTextPane</font></a><a target="_blank" href="http://java.sun.com/j2se/1.4.2/docs/api/javax/swing/JTextPane.html"><img src="../../images/apiIcon.gif" width=11 height=11 border=0 align="ABSMIDDLE" alt=" (in the API reference documentation)"></a> are inherited from <code>JTextComponent</code>.
You can find the API tables for
<code>JTextComponent</code> in 
<a href="textapi.html">The Text Component API</a>.
Also see
<a href="jcomponent.html">The JComponent Class</a>,
which describes the API 
inherited from <code>JComponent</code>.

<p>
<table border=1>
<caption><a name="loading">
JEditorPane API for Displaying Text from a URL
</a></caption>
<tr>
<th>Method or Constructor</th><th>Description

</th>
</tr>
  <tr>
    <td>
<a target="_blank" href="http://java.sun.com/j2se/1.4.2/docs/api/javax/swing/JEditorPane.html#JEditorPane(java.net.URL)"><font color="#8800bb"><font size=2><code>JEditorPane(URL)</code></font></font></a><a target="_blank" href="http://java.sun.com/j2se/1.4.2/docs/api/javax/swing/JEditorPane.html#JEditorPane(java.net.URL)"></a>    <br>
<a target="_blank" href="http://java.sun.com/j2se/1.4.2/docs/api/javax/swing/JEditorPane.html#JEditorPane(java.lang.String)"><font color="#8800bb"><font size=2><code>JEditorPane(String)</code></font></font></a><a target="_blank" href="http://java.sun.com/j2se/1.4.2/docs/api/javax/swing/JEditorPane.html#JEditorPane(java.lang.String)"></a>    </td>
    <td>Create an editor pane loaded with the text
        at the specified URL.

    </td>
  </tr>
  <tr>
    <td>
<a target="_blank" href="http://java.sun.com/j2se/1.4.2/docs/api/javax/swing/JEditorPane.html#setPage(java.net.URL)"><font color="#8800bb"><font size=2><code>setPage(URL)</code></font></font></a><a target="_blank" href="http://java.sun.com/j2se/1.4.2/docs/api/javax/swing/JEditorPane.html#setPage(java.net.URL)"></a>    <br>
<a target="_blank" href="http://java.sun.com/j2se/1.4.2/docs/api/javax/swing/JEditorPane.html#setPage(java.lang.String)"><font color="#8800bb"><font size=2><code>setPage(String)</code></font></font></a><a target="_blank" href="http://java.sun.com/j2se/1.4.2/docs/api/javax/swing/JEditorPane.html#setPage(java.lang.String)"></a>    </td>
    <td>Load an editor pane (or text pane) with the text
        at the specified URL.
    </td>
  </tr>
  <tr>
    <td>
<a target="_blank" href="http://java.sun.com/j2se/1.4.2/docs/api/javax/swing/JEditorPane.html#getPage()"><font color="#8800bb"><font size=2><code>URL getPage()</code></font></font></a><a target="_blank" href="http://java.sun.com/j2se/1.4.2/docs/api/javax/swing/JEditorPane.html#getPage()"></a>    </td>
    <td>Get the URL for the editor pane's (or text pane's) current page.

    </td>
  </tr>
</table>

<p>
<table border=1>
<caption><a name="loading">
JTextPane API
</a></caption>
<tr>
<th>Method or Constructor</th><th>Description
</th>
</tr>

  <tr>
    <td>
<a target="_blank" href="http://java.sun.com/j2se/1.4.2/docs/api/javax/swing/JTextPane.html#JTextPane()"><font color="#8800bb"><font size=2><code>JTextPane()</code></font></font></a><a target="_blank" href="http://java.sun.com/j2se/1.4.2/docs/api/javax/swing/JTextPane.html#JTextPane()"></a>    <br>
<a target="_blank" href="http://java.sun.com/j2se/1.4.2/docs/api/javax/swing/JTextPane.html#JTextPane(javax.swing.text.StyledDocument)"><font color="#8800bb"><font size=2><code>JTextPane(StyledDocument)</code></font></font></a><a target="_blank" href="http://java.sun.com/j2se/1.4.2/docs/api/javax/swing/JTextPane.html#JTextPane(javax.swing.text.StyledDocument)"></a>    </td>
    <td>Create a text pane.
	The optional argument specifies the text pane's model.
    </td>
  </tr>

  <tr>
    <td>
<a target="_blank" href="http://java.sun.com/j2se/1.4.2/docs/api/javax/swing/JTextPane.html#getStyledDocument()"><font color="#8800bb"><font size=2><code>StyledDocument getStyledDocument</code></font></font></a><a target="_blank" href="http://java.sun.com/j2se/1.4.2/docs/api/javax/swing/JTextPane.html#getStyledDocument()"></a>    <br>
<a target="_blank" href="http://java.sun.com/j2se/1.4.2/docs/api/javax/swing/JTextPane.html#setStyledDocument(javax.swing.text.StyledDocument)"><font color="#8800bb"><font size=2><code>setStyledDocument(StyledDocument)</code></font></font></a><a target="_blank" href="http://java.sun.com/j2se/1.4.2/docs/api/javax/swing/JTextPane.html#setStyledDocument(javax.swing.text.StyledDocument)"></a>    </td>
    <td>Get or set the text pane's model.
    </td>
  </tr>
</table>


</blockquote>
<h3>
<a name="eg">Examples that Use Text Panes and Editor Panes</a>
</h3>
<blockquote>
To get started with text,
you might want to run these programs and examine
their code to find something similar
to what you want to do.

<p>
<table>
<tr>
<th align=left> Example
</th>
<th align=left> Where Described
</th>
<th align=left> Notes

</th>
</tr>
<tr>
<td valign=top><a href="example-1dot4/index.html#TextSamplerDemo">
    TextSamplerDemo</a>
</td>
<td valign=top><a href="text.html">Using Text Components</a>
</td>
<td valign=top>Uses one of each of Swing's text components.
</td>
</tr>

<tr>
<td valign=top><a href="example-1dot4/index.html#TextComponentDemo">
    TextComponentDemo</a>
</td>
<td valign=top><a href="generaltext.html">Text Component Features</a>
</td>
<td valign=top>Provides a customized text pane.
    Illustrates many text component features,
    such as undo and redo, 
    document filters,
    document listeners,
    caret change listeners,
    and associating editing actions 
    with menus and key strokes.
</td>
</tr>

<tr>
<td valign=top><a href="example-1dot4/index.html#TreeDemo">
    TreeDemo</a>
<td valign=top><a href="tree.html">How to Use Trees</a>
</td>
<td valign=top>Uses an editor pane to display help
    loaded from an HTML file.
</td>
</tr>
</table>


</blockquote>

<img src="../../images/blueline.gif" width="550" height="8" ALIGN="BOTTOM" NATURALSIZEFLAG="3" ALT="">
<br>
<table width="550" summary="layout">
<tr>
<td align="left" valign="center">
<a href="dialog.html" target="_top"><img src="../../images/PreviousArrow.gif" width="26" height="26" align="center" border="0" alt="Previous Page"></a>
<a href="../TOC.html#components" target="_top"><img src="../../images/TOCIcon.gif" width="26" height="26" align="center" border="0" alt="Lesson Contents"></a>
<a href="filechooser.html" target="_top"><img src="../../images/NextArrow.gif" width="26" height="26" align="center" border="0" alt="Next Page"></a></td>

<td align="center" valign="center">
<font size="-1">
<a href="../../index.html" target="_top">Start of Tutorial</a>
&gt;
<a href="../index.html" target="_top">Start of Trail</a>
&gt;
<a href="index.html" target="_top">Start of Lesson</a>
</font>
</td>

<td align="right" valign="center">
<font size="-1">
<a href="../../search.html" target="_top">Search</a>
<br><a href="../../forms/sendusmail.html">Feedback Form</a>
</font>
</td>

</tr>
</table>
<p>
<font size="-1">
<a href="../../information/copyright.html">Copyright</a>
1995-2004 Sun Microsystems, Inc.  All rights reserved.
</font>
</p>
</body>
</html>
