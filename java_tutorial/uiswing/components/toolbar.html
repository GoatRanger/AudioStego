





<!DOCTYPE HTML PUBLIC "-//W3C//DTD HTML 3.2//EN">
<html>
<head>
<title>How to Use Tool Bars</title>
<script language="JavaScript">
<!-- hide
function openWin(term) {
  url="../../information/glossary.html#" + term;
  myWin= window.open(url, "Glossary",
              "width=400,height=150,scrollbars=yes,status=no,toolbar=no,menubar=no");
  myWin.focus();
}
//-->
</script>
</head>
<body BGCOLOR="#ffffff" LINK="#000099">
<B><FONT SIZE="-1">The Java</font><sup><font size="-2">TM</font></sup> <font size="-1">Tutorial</FONT></B>
<br>
<table width="550" summary="layout">
<tr>
<td align="left" valign="center">
<a href="textfield.html" target="_top"><img src="../../images/PreviousArrow.gif" width="26" height="26" align="center" border="0" alt="Previous Page"></a>
<a href="../TOC.html#components" target="_top"><img src="../../images/TOCIcon.gif" width="26" height="26" align="center" border="0" alt="Lesson Contents"></a>
<a href="tooltip.html" target="_top"><img src="../../images/NextArrow.gif" width="26" height="26" align="center" border="0" alt="Next Page"></a></td>

<td align="center" valign="center">
<font size="-1">
<a href="../../index.html" target="_top">Start of Tutorial</a>
&gt;
<a href="../index.html" target="_top">Start of Trail</a>
&gt;
<a href="index.html" target="_top">Start of Lesson</a>
</font>
</td>

<td align="right" valign="center">
<font size="-1">
<a href="../../search.html" target="_top">Search</a>
<br><a href="../../forms/sendusmail.html">Feedback Form</a>
</font>
</td>

</tr>
</table>
<img src="../../images/blueline.gif" width="550" height="8" ALIGN="BOTTOM" NATURALSIZEFLAG="3" ALT="">
<br>

<font size="-1">
<b>Trail</b>: Creating a GUI with JFC/Swing
<br>
<b>Lesson</b>: Using Swing Components
</font>

<h2>
How to Use Tool Bars
</h2>
<blockquote>
A
<a target="_blank" href="http://java.sun.com/j2se/1.4.2/docs/api/javax/swing/JToolBar.html"><font color="#8800bb"><code>JToolBar</code></font></a><a target="_blank" href="http://java.sun.com/j2se/1.4.2/docs/api/javax/swing/JToolBar.html"><img src="../../images/apiIcon.gif" width=11 height=11 border=0 align="ABSMIDDLE" alt=" (in the API reference documentation)"></a> is a container that groups several components &#151;
usually <a href="button.html">buttons</a> with icons &#151; 
into a row or column.
Often, tool bars provide
easy access to functionality that is also in 
<a href="menu.html">menus</a>.
<a href="../misc/action.html">How to Use Actions</a>
describes how to provide the same functionality
in menu items and tool bar buttons.


<p>

The following pictures show an application
named ToolBarDemo
that contains a tool bar above a text area.
You can 
<a href="http://java.sun.com/docs/books/tutorialJWS/uiswing/components/example-1dot4/ToolBarDemo.jnlp"><b>run ToolBarDemo</b></a> using
<a target="_top" href="../../information/javawebstart.html">Java<sup><font size=-2>TM</font></sup> Web Start</a><a target="_top" href="../../information/javawebstart.html"><img src="../../images/tutorialIcon.gif" width=11 height=11 border=0 align="ABSMIDDLE" alt=" (in the Creating a GUI with JFC/Swing trail)"></a>.
Or to compile and run it yourself, consult the
<a href="example-1dot4/index.html#ToolBarDemo">example index</a>.

<p><center><IMG SRC="../../figures/uiswing/components/ToolBarDemo.gif" WIDTH="460" HEIGHT="143" ALIGN="BOTTOM" NATURALSIZEFLAG="3" ALT="ToolBarDemo, with the tool bar in an initial north position"></center></p>
<p>
By default,
the user can drag the tool bar to a different edge of its container
or out into a window of its own.
The next figure shows how the application looks
after the user has dragged the tool bar 
to the right edge of its container.

<p><center><IMG SRC="../../figures/uiswing/components/ToolBarDemo-2.gif" WIDTH="411" HEIGHT="129" ALIGN="BOTTOM" NATURALSIZEFLAG="3" ALT="ToolBarDemo, after the tool bar is dragged to the east"></center></p>[PENDING: This figure will be updated.]

<p>
For the drag-out behavior to work correctly,
the tool bar must be in a container 
that uses 
<a target="_top" href="../layout/border.html"><code>BorderLayout</code></a><a target="_top" href="../layout/border.html"><img src="../../images/tutorialIcon.gif" width=11 height=11 border=0 align="ABSMIDDLE" alt=" (in the Creating a GUI with JFC/Swing trail)"></a>.  The component that the tool bar affects
is generally in the center of the container.
The tool bar must be the only other component in the container,
and it must not be in the center.

<p>

The next figure shows how the application looks
after the user has dragged the tool bar
outside its window.

<p><center><IMG SRC="../../figures/uiswing/components/ToolBarDemo-3.gif" WIDTH="524" HEIGHT="129" ALIGN="BOTTOM" NATURALSIZEFLAG="3" ALT="ToolBarDemo, after the tool bar is dragged out into its own window"></center></p>[PENDING: This figure will be updated.]

<p>
The following code creates the tool bar
and adds it to a container.
You can find the entire program in
<a target="_blank" href="example-1dot4/ToolBarDemo.java"><font color="#bb000f"><code>ToolBarDemo.java</code></font></a><a target="_blank" href="example-1dot4/ToolBarDemo.java"><img src="../../images/sourceIcon.gif" width=11 height=11 border=0 align="ABSMIDDLE" alt=" (in a .java source file)"></a>.


<blockquote><pre>
public class ToolBarDemo extends JPanel
                         implements ActionListener {
    ...
    public ToolBarDemo() {
        super(new BorderLayout());
        ...
        JToolBar toolBar = new JToolBar("Still draggable");
        addButtons(toolBar);
        ...
        setPreferredSize(new Dimension(450, 130));
        add(toolBar, BorderLayout.PAGE_START);
        add(scrollPane, BorderLayout.CENTER);
    }
    ...
}
</pre></blockquote>

The code positions the tool bar above the scroll pane
by placing both components
in a panel controlled by a border layout,
with the 
tool bar in the <code>PAGE_START</code> position and the 
scroll pane in the <code>CENTER</code> position.
Because the scroll pane is in the center
and no other components except the tool bar are in the container,
the tool bar is automatically draggable
to other edges of the container.
The tool bar 
can also be dragged out into its own window,
in which case the window
has the title "Still draggable",
as specified with the <code>JToolBar</code> constructor.

<blockquote><hr><strong>Note:</strong>&nbsp;The tool bar's window is a <code>JDialog</code>.
This demo uses <code>JDialog.setDefaultLookAndFeelDecorated(true)</code>
to make the window's decorations be painted 
by the look and feel,
which by default is the Java look and feel.
Unfortunately,
bug #
<a target="_blank" href="http://developer.java.sun.com/developer/bugParade/bugs/4820659.html"><font color="#009bbb">4820659</font></a><a target="_blank" href="http://developer.java.sun.com/developer/bugParade/bugs/4820659.html"><img src="../../images/otherIcon.gif" width=11 height=11 border=0 align="ABSMIDDLE" alt=" (outside of the tutorial)"></a> prevents the user from using the mouse to close dialogs 
decorated by the Java look and feel.
You might consider not using dialog decorations
from the Java look and feel until the fix for this bug is released.

<p>
Another bug to keep an eye on is
#
<a target="_blank" href="http://developer.java.sun.com/developer/bugParade/bugs/4793741.html"><font color="#009bbb">4793741</font></a><a target="_blank" href="http://developer.java.sun.com/developer/bugParade/bugs/4793741.html"><img src="../../images/otherIcon.gif" width=11 height=11 border=0 align="ABSMIDDLE" alt=" (outside of the tutorial)"></a>, which proposes that the tool bar's window
get the <em>defaultLookAndFeelDecorated</em>
setting from <code>JFrame</code>.
<hr></blockquote>


</blockquote>
<h3>
<a name="button">Creating Tool Bar Buttons</a>
</h3>
<blockquote>

The buttons in the tool bar are ordinary 
<code>JButton</code>s that use images
from the 
Java look and feel Graphics Repository.
We encourage you to 
consider using images from the repository if your tool bar
uses the Java look and feel.

<p>
Each image in the repository comes in 16x16 and 24x24 versions,
provided in a file named
<code>jlfgr-1_0.jar</code>.
You can download this JAR file from the
<a target="_blank" href="http://developer.java.sun.com/developer/techDocs/hi/repository/"><font color="#009bbb">Java look and feel Graphics Repository page</font></a><a target="_blank" href="http://developer.java.sun.com/developer/techDocs/hi/repository/"><img src="../../images/otherIcon.gif" width=11 height=11 border=0 align="ABSMIDDLE" alt=" (outside of the tutorial)"></a>.
That page shows all the images
and has links to pages that 
describe each image,
including its intended use
and location within the JAR file.

<p>
Here is the code that creates the buttons 
and adds them to the tool bar.

<blockquote><pre>
protected void addButtons(JToolBar toolBar) {
    JButton button = null;

    //first button
    button = makeNavigationButton("Back24", PREVIOUS,
                                  "Back to previous something-or-other",
                                  "Previous");
    toolBar.add(button);

    //second button
    button = makeNavigationButton("Up24", UP,
                                  "Up to something-or-other",
                                  "Up");
    toolBar.add(button);

    <em>...//similar code for creating and adding the third button...</em>
}

protected JButton makeNavigationButton(String imageName,
                                       String actionCommand,
                                       String toolTipText,
                                       String altText) {
    //Look for the image.
    String imgLocation = "toolbarButtonGraphics/navigation/"
                         + imageName
                         + ".gif";
    URL imageURL = ToolBarDemo.class.getResource(imgLocation);

    //Create and initialize the button.
    JButton button = new JButton();
    button.setActionCommand(actionCommand);
    button.setToolTipText(toolTipText);
    button.addActionListener(this);

    if (imageURL != null) {                      //image found
        button.setIcon(new ImageIcon(imageURL, altText));
    } else {                                     //no image found
        button.setText(altText);
        System.err.println("Resource not found: " + imgLocation);
    }

    return button;
}
</pre></blockquote>

The first call to <code>makeNavigationButton</code>
creates the image for the first button,
using the 24x24 "Back" navigation image
in the graphics repository.
We found the image by looking at the
<a target="_blank" href="http://developer.java.sun.com/developer/techDocs/hi/repository/"><font color="#009bbb">Java look and feel Graphics Repository page</font></a><a target="_blank" href="http://developer.java.sun.com/developer/techDocs/hi/repository/"><img src="../../images/otherIcon.gif" width=11 height=11 border=0 align="ABSMIDDLE" alt=" (outside of the tutorial)"></a>, which shows the navigation images (among others)
and has a link to the 
<a target="_blank" href="http://developer.java.sun.com/developer/techDocs/hi/repository/TBG_Navigation.html"><font color="#009bbb">navigation graphics page</font></a><a target="_blank" href="http://developer.java.sun.com/developer/techDocs/hi/repository/TBG_Navigation.html"><img src="../../images/otherIcon.gif" width=11 height=11 border=0 align="ABSMIDDLE" alt=" (outside of the tutorial)"></a>.
That page describes the navigation images
and informs us that the 24x24 Back image is 
located at <code>toolbarButtonGraphics/navigation/Back24.gif</code>.
The <code>makeNavigationButton</code> method 
gets the image from the repository's JAR file
(assuming the JAR file is in the example's code base)
using the <code>getResource</code> method.

<p>
Besides finding the image for the button,
the <code>makeNavigationButton</code> method
also creates the button, 
sets the strings for its action command and tool tip text,
and adds the action listener for the button.
If the image is missing, 
the method prints an error message
and puts text on the button,
so that the button is still usable.

<blockquote><hr><strong>Note:</strong>&nbsp;If any buttons in your tool bar duplicate functionality
of other components, such as menu items,
you should probably create and add the tool bar buttons
as described in 
<a target="_top" href="../misc/action.html">How to Use Actions</a><a target="_top" href="../misc/action.html"><img src="../../images/tutorialIcon.gif" width=11 height=11 border=0 align="ABSMIDDLE" alt=" (in the Creating a GUI with JFC/Swing trail)"></a>.
<hr></blockquote>


</blockquote>
<h3>
<a name="more">Customizing Tool Bars</a>
</h3>
<blockquote>
<p>
By adding a few lines of code to the preceding example,
we can demonstrate some more tool bar features:
<ul>
<li> Using <code>setFloatable(false)</code>
     to make a tool bar immovable.
<li> Using <code>setRollover(true)</code>
     to make the edges of the tool bar's buttons
     invisible except
     for the button (if any) that the mouse pointer is over.
<li> Adding a separator to a tool bar.
<li> Adding a non-button component to a tool bar.
</ul>

Here is a picture of the new UI.
You can 
<a href="http://java.sun.com/docs/books/tutorialJWS/uiswing/components/example-1dot4/ToolBarDemo2.jnlp"><b>run ToolBarDemo2</b></a> using
<a target="_top" href="../../information/javawebstart.html">Java Web Start</a><a target="_top" href="../../information/javawebstart.html"><img src="../../images/tutorialIcon.gif" width=11 height=11 border=0 align="ABSMIDDLE" alt=" (in the Creating a GUI with JFC/Swing trail)"></a>.
Or to compile and run it yourself, consult the
<a href="example-1dot4/index.html#ToolBarDemo2">example index</a>.
You can find the code in
<a target="_blank" href="example-1dot4/ToolBarDemo2.java"><font color="#bb000f"><code>ToolBarDemo2.java</code></font></a><a target="_blank" href="example-1dot4/ToolBarDemo2.java"><img src="../../images/sourceIcon.gif" width=11 height=11 border=0 align="ABSMIDDLE" alt=" (in a .java source file)"></a>.

<p><center><IMG SRC="../../figures/uiswing/components/ToolBarDemo2.gif" WIDTH="411" HEIGHT="129" ALIGN="BOTTOM" NATURALSIZEFLAG="3" ALT="ToolBarDemo2 shows a tool bar with a variety of components"></center></p>[PENDING: This figure will be updated.
The cursor should be over the fourth button,
showing that the button under the cursor has an outline.]

<p>
Because the tool bar can no longer be dragged,
it no longer has bumps at its left edge.
Here's the code that turns off dragging:

<blockquote><pre>
toolBar.setFloatable(false);
</pre></blockquote>

<p>
The tool bar is in rollover mode,
so only the button under the cursor 
has a border.
Here's the code that sets rollover mode:

<blockquote><pre>
toolBar.setRollover(true);
</pre></blockquote>

<p>
Another visible difference
is that the tool bar contains two new components,
which are preceded by a blank space &#151; a 
<a href="separator.html">separator</a>.
Here is the code that adds the separator:

<blockquote><pre>
toolBar.addSeparator();
</pre></blockquote>

Here is the code that adds the new components:

<blockquote><pre>
//fourth button
button = new JButton("Another button");
...
toolBar.add(button);

//fifth component is NOT a button!
JTextField textField = new JTextField("A text field");
...
toolBar.add(textField);
</pre></blockquote>

You can easily make the components in a tool bar 
be aligned along their tops or bottoms,
instead of centered,
by invoking the <code>setAlignmentY</code> method.
For example, to align the tops of all the components in a tool bar,
invoke <code>setAlignmentY(TOP_ALIGNMENT)</code> 
on each component.
Similarly, you can use the <code>setAlignmentX</code> method
to specify the alignment of components when the tool bar is vertical.
This flexibility of layout is possible
because tool bars use <code>BoxLayout</code>
to position their components.
For more information, see
<a target="_top" href="../layout/box.html">How to Use BoxLayout</a><a target="_top" href="../layout/box.html"><img src="../../images/tutorialIcon.gif" width=11 height=11 border=0 align="ABSMIDDLE" alt=" (in the Creating a GUI with JFC/Swing trail)"></a>.


</blockquote>
<h3>
<a name="api">The Tool Bar API</a>
</h3>
<blockquote>
The following table lists the commonly used
<a target="_blank" href="http://java.sun.com/j2se/1.4.2/docs/api/javax/swing/JToolBar.html"><font color="#8800bb"><code>JToolBar</code></font></a><a target="_blank" href="http://java.sun.com/j2se/1.4.2/docs/api/javax/swing/JToolBar.html"><img src="../../images/apiIcon.gif" width=11 height=11 border=0 align="ABSMIDDLE" alt=" (in the API reference documentation)"></a> constructors and methods.
Other methods you might call
are listed in the API tables in
<a href="jcomponent.html">The JComponent Class</a>.

<p>

<table border=1> 
<tr>
<th align=left>Method or Constructor
</th>
<th align=left>Purpose
 
</th>
</tr>
  <tr>
    <td>
<a target="_blank" href="http://java.sun.com/j2se/1.4.2/docs/api/javax/swing/JToolBar.html#JToolBar()"><font color="#8800bb"><font size=2><code>JToolBar()</code></font></font></a><a target="_blank" href="http://java.sun.com/j2se/1.4.2/docs/api/javax/swing/JToolBar.html#JToolBar()"></a>    <br>
<a target="_blank" href="http://java.sun.com/j2se/1.4.2/docs/api/javax/swing/JToolBar.html#JToolBar(int)"><font color="#8800bb"><font size=2><code>JToolBar(int)</code></font></font></a><a target="_blank" href="http://java.sun.com/j2se/1.4.2/docs/api/javax/swing/JToolBar.html#JToolBar(int)"></a>    <br>
<a target="_blank" href="http://java.sun.com/j2se/1.4.2/docs/api/javax/swing/JToolBar.html#JToolBar(java.lang.String)"><font color="#8800bb"><font size=2><code>JToolBar(String)</code></font></font></a><a target="_blank" href="http://java.sun.com/j2se/1.4.2/docs/api/javax/swing/JToolBar.html#JToolBar(java.lang.String)"></a>    <br>
<a target="_blank" href="http://java.sun.com/j2se/1.4.2/docs/api/javax/swing/JToolBar.html#JToolBar(java.lang.String, int)"><font color="#8800bb"><font size=2><code>JToolBar(String, int)</code></font></font></a><a target="_blank" href="http://java.sun.com/j2se/1.4.2/docs/api/javax/swing/JToolBar.html#JToolBar(java.lang.String, int)"></a>    </td>
    <td>Create a tool bar. The optional int parameter lets you
        specify the orientation; the default is <code>HORIZONTAL</code>.
        The optional <code>String</code> parameter, introduced in 1.3,
        allows you to specify the title displayed for the
        undocked tool bar's window.

    </td>
  </tr>
  <tr>
    <td>
<a target="_blank" href="http://java.sun.com/j2se/1.4.2/docs/api/java/awt/Container.html#add(java.awt.Component)"><font color="#8800bb"><font size=2><code>Component add(Component)</code></font></font></a><a target="_blank" href="http://java.sun.com/j2se/1.4.2/docs/api/java/awt/Container.html#add(java.awt.Component)"></a>    </td>
    <td>Add a component to the tool bar.
    <p>
<strong>Version note:</strong>&nbsp;    Before 1.3, the only way to associate an <code>Action</code>
    with a tool bar button was to use <code>JToolBar</code>'s
    <code>add(Action)</code> method 
    to create the button and add it to the tool bar.
    As of 1.3, that method is no longer recommended.
    You can instead associate a button with an <code>Action</code>
    using the <code>setAction(Action)</code> method
    defined by <code>AbstractButton</code>.
    </td>
  </tr>

  <tr>
    <td>
<a target="_blank" href="http://java.sun.com/j2se/1.4.2/docs/api/javax/swing/JToolBar.html#addSeparator()"><font color="#8800bb"><font size=2><code>void addSeparator()</code></font></font></a><a target="_blank" href="http://java.sun.com/j2se/1.4.2/docs/api/javax/swing/JToolBar.html#addSeparator()"></a>    </td>
    <td>Add a separator to the end of the tool bar.
    </td>
  </tr>

  <tr>
    <td>
<a target="_blank" href="http://java.sun.com/j2se/1.4.2/docs/api/javax/swing/JToolBar.html#setFloatable(boolean)"><font color="#8800bb"><font size=2><code>void setFloatable(boolean)</code></font></font></a><a target="_blank" href="http://java.sun.com/j2se/1.4.2/docs/api/javax/swing/JToolBar.html#setFloatable(boolean)"></a>    <br>
<a target="_blank" href="http://java.sun.com/j2se/1.4.2/docs/api/javax/swing/JToolBar.html#isFloatable()"><font color="#8800bb"><font size=2><code>boolean isFloatable()</code></font></font></a><a target="_blank" href="http://java.sun.com/j2se/1.4.2/docs/api/javax/swing/JToolBar.html#isFloatable()"></a>    </td>
    <td>The floatable property is true by default,
        to indicate that the user can drag the tool bar
        out into a separate window.
        To turn off tool bar dragging,
        use <code>toolBar.setFloatable(false)</code>.
	Some look and feels might ignore this property.
    </td>
  </tr>

  <tr>
    <td>
<a target="_blank" href="http://java.sun.com/j2se/1.4.2/docs/api/javax/swing/JToolBar.html#setRollover(boolean)"><font color="#8800bb"><font size=2><code>void setRollover(boolean)</code></font></font></a><a target="_blank" href="http://java.sun.com/j2se/1.4.2/docs/api/javax/swing/JToolBar.html#setRollover(boolean)"></a>    <br>
<a target="_blank" href="http://java.sun.com/j2se/1.4.2/docs/api/javax/swing/JToolBar.html#isRollover()"><font color="#8800bb"><font size=2><code>boolean isRollover()</code></font></font></a><a target="_blank" href="http://java.sun.com/j2se/1.4.2/docs/api/javax/swing/JToolBar.html#isRollover()"></a>    </td>
    <td>The rollover property is false by default.
	Set it to true
        to request that every button in the tool bar 
	have no borders until the user 
	passes the cursor over the button.
	Some look and feels might ignore this property.
	Introduced in 1.4.
    </td>
  </tr>
</table>


</blockquote>
<h3>
<a name="eg">Examples that Use Tool Bars</a>
</h3>
<blockquote>
This table lists examples that use <code>JToolBar</code>
and where those examples are described.
<p>
<table>
<tr>
<th align=left> Example
</th>
<th align=left> Where Described
</th>
<th align=left> Notes

</th>
</tr>
<tr>
<td> <a href="example-1dot4/index.html#ToolBarDemo"><code>ToolBarDemo</code></a>
</td>
<td> This page
</td>
<td> A basic tool bar with icon-only buttons.

</td>
</tr>
<tr>
<td> <a href="example-1dot4/index.html#ToolBarDemo2"><code>ToolBarDemo2</code></a>
</td>
<td> This page
</td>
<td> Demonstrates a non-floatable tool bar in rollover mode
     that contains a separator
     and a non-button component.

</td>
</tr>
<tr>
<td> <a href="../misc/example-1dot4/index.html#ActionDemo"><code>ActionDemo</code></a>
</td>
<td>
<a target="_top" href="../misc/action.html">How to Use Actions</a><a target="_top" href="../misc/action.html"><img src="../../images/tutorialIcon.gif" width=11 height=11 border=0 align="ABSMIDDLE" alt=" (in the Creating a GUI with JFC/Swing trail)"></a></td>
<td> Implements a tool bar using <code>Action</code> objects.

</td>
</tr>
</table>

</blockquote>

<img src="../../images/blueline.gif" width="550" height="8" ALIGN="BOTTOM" NATURALSIZEFLAG="3" ALT="">
<br>
<table width="550" summary="layout">
<tr>
<td align="left" valign="center">
<a href="textfield.html" target="_top"><img src="../../images/PreviousArrow.gif" width="26" height="26" align="center" border="0" alt="Previous Page"></a>
<a href="../TOC.html#components" target="_top"><img src="../../images/TOCIcon.gif" width="26" height="26" align="center" border="0" alt="Lesson Contents"></a>
<a href="tooltip.html" target="_top"><img src="../../images/NextArrow.gif" width="26" height="26" align="center" border="0" alt="Next Page"></a></td>

<td align="center" valign="center">
<font size="-1">
<a href="../../index.html" target="_top">Start of Tutorial</a>
&gt;
<a href="../index.html" target="_top">Start of Trail</a>
&gt;
<a href="index.html" target="_top">Start of Lesson</a>
</font>
</td>

<td align="right" valign="center">
<font size="-1">
<a href="../../search.html" target="_top">Search</a>
<br><a href="../../forms/sendusmail.html">Feedback Form</a>
</font>
</td>

</tr>
</table>
<p>
<font size="-1">
<a href="../../information/copyright.html">Copyright</a>
1995-2004 Sun Microsystems, Inc.  All rights reserved.
</font>
</p>
</body>
</html>
